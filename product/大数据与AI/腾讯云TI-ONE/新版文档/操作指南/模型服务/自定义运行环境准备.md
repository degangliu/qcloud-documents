

## 背景
在线推理服务除了内置的镜像环境外，支持用户自定义的推理镜像，用户可以方便灵活的部署已有的镜像为在线推理服务；

## 自定义镜像限制及建议

1. 在线推理服务端口限制为8501；
2. 服务运行包建议放到 /data/model 目录；

上述建议的第2条仅作参考，不强制要求；只是为了后续方便扩展，用户可以通过将服务代码上传到COS，通过映射到服务镜像的固定目录来启动不同的服务。

## 自定义运行环境准备步骤
1. 本地配置 docker 环境，并开通 [腾讯云容器镜像服务](https://console.cloud.tencent.com/tcr/instance?rid=1);
2. 创建命名空间及新建个人镜像仓库；
3. 编译自定义推理镜像，推送到个人镜像仓库；
4. 在启动模型服务时，实例容器栏选择不使用模型文件，选择运行环境进入个人镜像仓库列表，选择上一步推送的自定义镜像环境；
5. 配置好参数，启动服务。

